Weather Forecast API

This educational project demonstrates the use of modern backend technologies by building a scalable weather forecast service with NestJS, PostgreSQL, and TypeORM. It includes modular design, external API integration, database interaction, scheduled tasks, and email notifications.

ğŸ¯ Project Goals

The project aims to provide hands-on experience in:

Fetching and processing data from an external weather API.

Managing database operations using PostgreSQL and TypeORM.

Creating an email subscription service with scheduled daily notifications.

Implementing clean, modular, and maintainable code structures.

âš™ï¸ Implementation and Architecture

The project uses a modular NestJS architecture, with clearly separated concerns and reusable components.

Modules Overview:

1. weather/ â€“ Weather Module

weather.service.ts: Handles fetching and processing weather data via Axios.

weather.controller.ts: Exposes REST API endpoints (GET /weather?city={city}).

interfaces/: Type definitions for external API responses.

dto/: Data Transfer Objects (DTOs) for validating requests.

2. subscription/ â€“ Subscription Module

subscription.service.ts: Manages CRUD operations for email subscriptions.

subscription.controller.ts: API endpoints to manage subscriptions:

POST /subscription: subscribe

DELETE /subscription/:email: unsubscribe

entities/: TypeORM entities defining database schema.

dto/: DTOs for input validation.

3. email/ â€“ Email Module

email.service.ts: Sends emails using Nodemailer.

SMTP credentials are securely managed through .env configuration.

4. scheduler/ â€“ Scheduler Module

scheduler.service.ts: Utilizes @nestjs/schedule to automate daily email dispatches (e.g., via cron jobs).

ğŸ—„ï¸ Database

PostgreSQL database integrated via TypeORM.

Database configuration is managed in src/database/typeorm-config.ts.

Migrations stored in src/database/migrations/.

Docker Setup

The application uses Docker for consistency across development and deployment environments:

# Start Docker containers
docker-compose up --build

# Run database migrations
docker exec -it weather-forecast-api npm run migration:run

ğŸ§ª Testing

Testing is done using Jest, with both unit and end-to-end (e2e) tests:

# Run unit tests
npm run test

# Run end-to-end tests
npm run test:e2e

ğŸ”§ Useful NPM Scripts

npm run start:dev       # Start server in development mode with hot-reload
npm run migration:run   # Execute database migrations
npm run test            # Execute unit tests
npm run test:e2e        # Execute end-to-end tests

ğŸ“¤ Swagger Documentation

Interactive API documentation generated by Swagger:

http://localhost:3000/api/docs